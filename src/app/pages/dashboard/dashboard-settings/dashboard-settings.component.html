<form
  [formGroup]="userSettingsForm"
  (ngSubmit)="updateUser(userSettingsForm.value)"
  class="flex-1 p-6 bg-white shadow-md dark:bg-transparent rounded-lg shadow-xl"
>

  <h1 class="text-2xl font-bold mb-6 text-gray-800 dark:text-white">
    Ajustes de Usuario
  </h1>

  <div class="flex flex-row flex-1 gap-10 items-start">  
  <div class="flex flex-col gap-5 items-stretch w-1/2">
    <app-user-fieldset
      label="Nombre"
      controlName="first_name"
      [formGroup]="userSettingsForm"
      [isEditing]="editUserForm['first_name']"
      [value]="user.first_name"
      (toggleEdit)="updateUserFormState($event)"
      [validation]="['minlength', 'maxlength']"
      (saveEdit)="onSaveField($event)"
    ></app-user-fieldset>

    <app-user-fieldset
      label="Apellidos"
      controlName="last_name"
      [formGroup]="userSettingsForm"
      [isEditing]="editUserForm['last_name']"
      [value]="user.last_name"
      (toggleEdit)="updateUserFormState($event)"
      [validation]="['minlength', 'maxlength']"
      (saveEdit)="onSaveField($event)"
    ></app-user-fieldset>

    <app-user-fieldset
      label="Nombre de usuario"
      controlName="username"
      [formGroup]="userSettingsForm"
      [isEditing]="editUserForm['username']"
      [value]="user.username"
      [type]="'text'"
      (toggleEdit)="updateUserFormState($event)"
      [validation]="['minlength', 'maxlength']"
      (saveEdit)="onSaveField($event)"

    ></app-user-fieldset>

    <app-user-fieldset
      label="Fecha de nacimiento"
      controlName="birth_date"
      [formGroup]="userSettingsForm"
      [isEditing]="editUserForm['birth_date']"
      [value]="user.birth_date"
      [type]="'date'"
      (toggleEdit)="updateUserFormState($event)"
      [validation]="['minlength', 'maxlength']"
      (saveEdit)="onSaveField($event)"
    ></app-user-fieldset>
    </div>

    <fieldset class="flex flex-col items-center justify-start gap-4 w-1/2">
      <img
      [src]="user.profile_image_url"
      alt="Imagen de perfil"
      class="w-52 h-52 object-cover rounded-full border border-gray-300 shadow mx-auto"
      />
      <label for="profile-image" class="text-base font-bold cursor-pointer">
        Cambiar imagen
      </label>
      <input
        type="file"
        name="profile-image"
        id="profile-image"
        accept="image/*"
        class="hidden"
      
        
      />
  </fieldset>

  </div>
</form>
