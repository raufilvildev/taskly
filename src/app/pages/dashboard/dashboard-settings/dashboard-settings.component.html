<div class="w-[700px] mx-auto p-10 flex-1 flex justify-center items-center flex-wrap gap-8">
  <form
    [formGroup]="userSettingsForm"
    (ngSubmit)="updateUser(userSettingsForm.value)"
    class="mx-auto p-6 bg-white rounded-xl shadow-md w-[700px] max-w-full"
  >
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <app-user-fieldset
        label="Nombre"
        controlName="first_name"
        [formGroup]="userSettingsForm"
        [isEditing]="editUserForm['first_name']"
        [value]="user.first_name"
        (toggleEdit)="updateUserFormState('first_name', !editUserForm['first_name'])"
        [class]="getValidationStyleClasses('first_name', ['minlength', 'maxlength'])"
      ></app-user-fieldset>

      <app-user-fieldset
        label="Apellidos"
        controlName="last_name"
        [formGroup]="userSettingsForm"
        [isEditing]="editUserForm['last_name']"
        [value]="user.last_name"
        (toggleEdit)="updateUserFormState('last_name', !editUserForm['last_name'])"
        [class]="getValidationStyleClasses('last_name', ['minlength', 'maxlength'])"
      ></app-user-fieldset>

      <app-user-fieldset
        label="Nombre de usuario"
        controlName="username"
        [formGroup]="userSettingsForm"
        [isEditing]="editUserForm['username']"
        [value]="user.username"
        [type]="'text'"
        (toggleEdit)="updateUserFormState('username', !editUserForm['username'])"
        [class]="getValidationStyleClasses('username', ['minlength', 'maxlength'])"
      ></app-user-fieldset>

      <app-user-fieldset
        label="Fecha de nacimiento"
        controlName="birth_date"
        [formGroup]="userSettingsForm"
        [isEditing]="editUserForm['birth_date']"
        [value]="user.birth_date"
        [type]="'date'"
        (toggleEdit)="updateUserFormState('birth_date', !editUserForm['birth_date'])"
        [class]="getValidationStyleClasses('birth_date', [])"
      ></app-user-fieldset>
    </div>

    <div class="flex justify-end mt-8">
      <button
        type="submit"
        class="px-4 py-2 rounded-lg border-2 border-custom-accent bg-custom-accent text-white text-sm hover:bg-custom-accent-dark hover:scale-105 shadow-lg hover:shadow-xl transition-all duration-300"
      >
        Guardar cambios
      </button>
    </div>
  </form>
</div>
