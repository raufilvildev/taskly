<!-- Añadir título a la página-->
<form
  [formGroup]="userSettingsForm"
  (ngSubmit)="updateUser(userSettingsForm.value)"
  class="flex-1 p-6 bg-white shadow-md dark:bg-transparent rounded-lg shadow-xl"
>
  <div class="flex flex-col gap-5 items-stretch w-1/3">
    <app-user-fieldset
      label="Nombre"
      controlName="first_name"
      [formGroup]="userSettingsForm"
      [isEditing]="editUserForm['first_name']"
      [value]="user.first_name"
      (toggleEdit)="updateUserFormState($event)"
      [validation]="['minlength', 'maxlength']"
      (saveEdit)="onSaveField($event)"
    ></app-user-fieldset>

    <app-user-fieldset
      label="Apellidos"
      controlName="last_name"
      [formGroup]="userSettingsForm"
      [isEditing]="editUserForm['last_name']"
      [value]="user.last_name"
      (toggleEdit)="updateUserFormState($event)"
      [validation]="['minlength', 'maxlength']"
      (saveEdit)="onSaveField($event)"
    ></app-user-fieldset>

    <app-user-fieldset
      label="Nombre de usuario"
      controlName="username"
      [formGroup]="userSettingsForm"
      [isEditing]="editUserForm['username']"
      [value]="user.username"
      [type]="'text'"
      (toggleEdit)="updateUserFormState($event)"
      [validation]="['minlength', 'maxlength']"
      (saveEdit)="onSaveField($event)"

    ></app-user-fieldset>

    <app-user-fieldset
      label="Fecha de nacimiento"
      controlName="birth_date"
      [formGroup]="userSettingsForm"
      [isEditing]="editUserForm['birth_date']"
      [value]="user.birth_date"
      [type]="'date'"
      (toggleEdit)="updateUserFormState($event)"
      [validation]="['minlength', 'maxlength']"
      (saveEdit)="onSaveField($event)"
    ></app-user-fieldset>
  </div>

  <div class="flex justify-start mt-8">
    <button
      type="submit"
      class="w-fit px-3 py-2 rounded-lg text-white bg-custom-accent hover:bg-custom-accent-dark hover:bg-custom-accent-dark dark:bg-purple-800 dark:hover:bg-purple-900 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
    >
      Guardar cambios
    </button>
  </div>
</form>
